{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container my-5">
  <div class="card shadow-lg border-0" style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 20px; overflow: hidden;">
    <div class="row g-0">
      
      <!-- Image -->
      <div class="col-md-6">
        <img src="{{ object.image.url }}" class="img-fluid h-100 w-100 object-fit-cover" alt="Room image">
      </div>
      
      <!-- Room Details -->
      <div class="col-md-6 p-4">
        <h2 class="mb-3">{{ object.title }}</h2>

        <p><strong>Description:</strong><br> {{ object.description }}</p>
        <p><strong>Location:</strong> {{ object.location }}</p>
        <p><strong>Price:</strong> <span class="text-success">Rs.{{ object.price }}</span></p>
        <p><strong>Status:</strong> 
          {% if object.available %}
            <span class="badge bg-success">Available</span>
          {% else %}
            <span class="badge bg-danger">Booked</span>
          {% endif %}
        </p>

        <!-- Action Buttons -->
        <div class="mt-4 d-flex flex-wrap gap-2">
          {% if object.owner == user %}
            <a href="{% url 'room_edit' object.pk %}" class="btn btn-warning">Edit</a>
            <a href="{% url 'room_delete' object.pk %}" class="btn btn-danger">Delete</a>
          {% elif object.available %}
            <form method="post" action="{% url 'booking_add' %}" class="d-inline">
              {% csrf_token %}
              <input type="hidden" name="room" value="{{ object.pk }}">
              <button type="submit" class="btn btn-primary">Book this Room</button>
            </form>
          {% endif %}
          <a href="{% url 'room_list' %}" class="btn btn-secondary ms-auto">Back to List</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
